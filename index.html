<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>เกมทาย 77 จังหวัด</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }

    h1 {
      text-align: center;
      background: #1976d2;
      color: white;
      margin: 0;
      padding: 15px;
    }

    #container {
      display: flex;
      gap: 20px;
      padding: 20px;
    }

    #map-container {
      flex: 2;
      background: white;
      padding: 10px;
      border-radius: 8px;
      min-height: 500px;
    }

    #game-panel {
      flex: 1;
      background: white;
      padding: 15px;
      border-radius: 8px;
    }

    #timer, #score {
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    #answer {
      width: 100%;
      padding: 8px;
      font-size: 16px;
    }

    button {
      margin-top: 10px;
      padding: 10px;
      width: 100%;
      font-size: 16px;
      cursor: pointer;
    }

    #correct-list {
      max-height: 250px;
      overflow-y: auto;
      padding-left: 20px;
    }

    /* เวลาเดาจังหวัดถูก ให้ SVG class นี้เปลี่ยนสี */
    .correct {
      fill: #4caf50 !important;
    }
  </style>
</head>

<body>

<h1>เกมทาย 77 จังหวัด</h1>

<div id="container">

  <!-- ================== แผนที่ ================== -->
  <div id="map-container">
    <svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   version="1.1"
   id="Thailand"
   x="0px"
   y="0px"
   width="1051.164px"
   viewBox="-150 0 800 1849.133"
   enable-background="new 0 0 1051.164 1849.133"
   xml:space="preserve"
   inkscape:version="0.48.1 "
   sodipodi:docname="Thailand_location_map3.svg"><metadata
   id="metadata1377"><rdf:RDF><cc:Work
       rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
         rdf:resource="http://purl.org/dc/dcmitype/StillImage" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata>
<style
   id="style_css_sheet"
   type="text/css"> 
.landxx
{
  fill: #FEFEE9;
  opacity: 1;
}
.islandxx
{
  fill: #FEFEE9;
  opacity: 1;
}
.riverxx
{
  stroke: none;
  stroke-opacity:0
}
.th-52, .th-55, .th-58, .th-65, .th-60, .th-15, .th-19, .th-12, .th-41, .th-48, .th-36, .th-45, .th-37, .th-70, .th-85, .th-81, .th-90, .th-24, .th-31, .th-37
{
  fill: #CEFEF2;
}  
.th-50, .th-56, .th-64, .th-61, .th-67, .th-17, .th-73, .th-11, .th-39, .th-47, .th-44, .th-35, .th-21, .th-26, .th-27, .th-76, .th-84, .th-93, .th-95
{
  fill: #FFD0D0;
}
.th-57, .th-53, .th-63, .th-77, .th-66, .th-16, .th-72, .th-13, .th-74, .th-22, .th-25, .th-32, .th-34, .th-40, .th-49, .th-43, .th-82, .th-92, .th-94
{
  fill: #F8A20C
}
.th-54, .th-51, .th-71, .th-62, .th-18, .th-14, .th-10, .th-75, .th-33, .th-38, .th-42, .th-46, .th-30, .th-20, .th-23, .th-80, .th-83, .th-86, .th-91, .th-96
{
  fill: #3CE67B
}
</style>
		 <defs
   id="defs1375" /><sodipodi:namedview
   pagecolor="#ffffff"
   bordercolor="#666666"
   borderopacity="1"
   objecttolerance="10"
   gridtolerance="10"
   guidetolerance="10"
   inkscape:pageopacity="0"
   inkscape:pageshadow="2"
   inkscape:window-width="1280"
   inkscape:window-height="745"
   id="namedview1373"
   showgrid="false"
   inkscape:zoom="0.38392868"
   inkscape:cx="424.0961"
   inkscape:cy="918.92984"
   inkscape:window-x="-9"
   inkscape:window-y="-9"
   inkscape:window-maximized="1"
   inkscape:current-layer="Thailand" />
   <rect
   fill-rule="evenodd"
   clip-rule="evenodd"
   fill="#E0E0E0"
   width="1051.164"
   height="1849.133"
   id="rect3" />

  </div>

  <!-- ================== แผงควบคุมเกม ================== -->
  <div id="game-panel">

    <div id="timer">เวลา: 300 วินาที</div>
    <div id="score">ถูก: 0 / 77</div>

    <br>

    <input
      type="text"
      id="answer"
      placeholder="พิมพ์ชื่อจังหวัด..."
      autocomplete="off"
    />

    <br><br>

    <button onclick="startGame()">เริ่มเกมใหม่</button>

    <hr>

    <h3>จังหวัดที่ตอบถูกแล้ว</h3>
    <ul id="correct-list"></ul>

  </div>
</div>

<!-- ================== JAVASCRIPT ================== -->
<script>
const provinces = [
  "กรุงเทพมหานคร","กระบี่","กาญจนบุรี","กาฬสินธุ์","กำแพงเพชร",
  "ขอนแก่น","จันทบุรี","ฉะเชิงเทรา","ชลบุรี","ชัยนาท",
  "ชัยภูมิ","ชุมพร","เชียงราย","เชียงใหม่","ตรัง",
  "ตราด","ตาก","นครนายก","นครปฐม","นครพนม",
  "นครราชสีมา","นครศรีธรรมราช","นครสวรรค์","นนทบุรี","นราธิวาส",
  "น่าน","บึงกาฬ","บุรีรัมย์","ปทุมธานี","ประจวบคีรีขันธ์",
  "ปราจีนบุรี","ปัตตานี","พระนครศรีอยุธยา","พะเยา","พังงา",
  "พัทลุง","พิจิตร","พิษณุโลก","เพชรบุรี","เพชรบูรณ์",
  "แพร่","ภูเก็ต","มหาสารคาม","มุกดาหาร","แม่ฮ่องสอน",
  "ยโสธร","ยะลา","ร้อยเอ็ด","ระนอง","ระยอง",
  "ราชบุรี","ลพบุรี","ลำปาง","ลำพูน","เลย",
  "ศรีสะเกษ","สกลนคร","สงขลา","สตูล","สมุทรปราการ",
  "สมุทรสงคราม","สมุทรสาคร","สระแก้ว","สระบุรี","สิงห์บุรี",
  "สุโขทัย","สุพรรณบุรี","สุราษฎร์ธานี","สุรินทร์","หนองคาย",
  "หนองบัวลำภู","อ่างทอง","อำนาจเจริญ","อุดรธานี","อุตรดิตถ์",
  "อุทัยธานี","อุบลราชธานี"
];

let correct = [];
let timeLeft = 300;
let timer;

function startGame() {
  correct = [];
  timeLeft = 300;

  document.getElementById("correct-list").innerHTML = "";
  document.getElementById("score").innerText = "ถูก: 0 / 77";
  document.getElementById("timer").innerText = "เวลา: 300 วินาที";

  clearInterval(timer);
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText =
      "เวลา: " + timeLeft + " วินาที";

    if (timeLeft <= 0) {
      clearInterval(timer);
      alert("หมดเวลา! คุณตอบถูก " + correct.length + " จังหวัด");
    }
  }, 1000);
}

function markCorrectByName(provinceName) {
  const className = provinceName.replace(/\s+/g, '');
  const el = document.querySelector('.' + className);

  if (el) {
    el.classList.add('correct');
  } else {
    console.log('ไม่พบจังหวัดใน SVG:', className);
  }
}

document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("answer").addEventListener("keyup", function () {
    const input = this.value.trim();

    if (provinces.includes(input) && !correct.includes(input)) {

      correct.push(input);

      markCorrectByName(input);

      const li = document.createElement("li");
      li.innerText = input;
      document.getElementById("correct-list").appendChild(li);

      document.getElementById("score").innerText =
        "ถูก: " + correct.length + " / 77";

      this.value = "";
    }
  });
});
</script>

</body>
</html>
