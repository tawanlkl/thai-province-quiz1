<script>
document.addEventListener("DOMContentLoaded", () => {
  forceAllProvincesYellow();
});

/* ===============================
   FORCE ทุกจังหวัดเป็นสีเหลือง
   =============================== */
function forceAllProvincesYellow() {
  const svg = document.querySelector("#map-container svg");
  if (!svg) {
    console.warn("❌ ไม่พบ SVG ใน #map-container");
    return;
  }

  const paths = svg.querySelectorAll("path");

  paths.forEach(path => {
    // ข้าม path ที่เป็นเส้น / decoration เล็กๆ (ถ้ามี)
    // ถ้าไม่อยากกรอง ให้ลบบรรทัด if นี้ทิ้งได้
    if (path.getAttribute("d")?.length < 50) return;

    path.style.fill = "#ffd700";   // เหลือง
    path.style.stroke = "#333";
    path.style.strokeWidth = "1";

    // ล้าง class เกมเก่า
    path.classList.remove("correct", "wrong");
  });

  console.log("✅ Provinces forced to yellow:", paths.length);
}

/* ===============================
   GAME: ทำจังหวัดถูก
   ใช้เมื่อ user ตอบถูก
   =============================== */
function markCorrect(pathEl) {
  if (!pathEl) return;
  pathEl.classList.remove("wrong");
  pathEl.classList.add("correct");
  pathEl.style.fill = "#00ff00"; // เขียว
}

/* ===============================
   GAME: ทำจังหวัดผิด
   =============================== */
function markWrong(pathEl) {
  if (!pathEl) return;
  pathEl.classList.remove("correct");
  pathEl.classList.add("wrong");
  pathEl.style.fill = "#ff4444"; // แดง
}

/* ===============================
   ตัวอย่าง: คลิกจังหวัดแล้วเปลี่ยนสี
   (ไว้ทดสอบ)
   =============================== */
document.addEventListener("click", (e) => {
  if (e.target.tagName.toLowerCase() === "path") {
    // toggle test
    if (e.target.classList.contains("correct")) {
      markWrong(e.target);
    } else {
      markCorrect(e.target);
    }
  }
});

/* ===============================
   รีเซ็ตเกม (กลับเป็นเหลืองหมด)
   =============================== */
function resetMap() {
  forceAllProvincesYellow();
}
</script>
