const provinces = [
  "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£","‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà","‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ","‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå","‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£",
  "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô","‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ","‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤","‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ","‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó",
  "‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥","‡∏ä‡∏∏‡∏°‡∏û‡∏£","‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢","‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà","‡∏ï‡∏£‡∏±‡∏á",
  "‡∏ï‡∏£‡∏≤‡∏î","‡∏ï‡∏≤‡∏Å","‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å","‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°","‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°",
  "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤","‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä","‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå","‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ","‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™",
  "‡∏ô‡πà‡∏≤‡∏ô","‡∏ö‡∏∂‡∏á‡∏Å‡∏≤‡∏¨","‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå","‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ","‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå",
  "‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ","‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ","‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤","‡∏û‡∏∞‡πÄ‡∏¢‡∏≤","‡∏û‡∏±‡∏á‡∏á‡∏≤",
  "‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á","‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£","‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å","‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ","‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå",
  "‡πÅ‡∏û‡∏£‡πà","‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï","‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°","‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£","‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô",
  "‡∏¢‡πÇ‡∏™‡∏ò‡∏£","‡∏¢‡∏∞‡∏•‡∏≤","‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î","‡∏£‡∏∞‡∏ô‡∏≠‡∏á","‡∏£‡∏∞‡∏¢‡∏≠‡∏á",
  "‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ","‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ","‡∏•‡∏≥‡∏õ‡∏≤‡∏á","‡∏•‡∏≥‡∏û‡∏π‡∏ô","‡πÄ‡∏•‡∏¢",
  "‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©","‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£","‡∏™‡∏á‡∏Ç‡∏•‡∏≤","‡∏™‡∏ï‡∏π‡∏•","‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£",
  "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°","‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£","‡∏™‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß","‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ","‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ",
  "‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢","‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ","‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ","‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå","‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢",
  "‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π","‡∏≠‡πà‡∏≤‡∏á‡∏ó‡∏≠‡∏á","‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç","‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ","‡∏≠‡∏∏‡∏ï‡∏£‡∏î‡∏¥‡∏ï‡∏ñ‡πå",
  "‡∏≠‡∏∏‡∏ó‡∏±‡∏¢‡∏ò‡∏≤‡∏ô‡∏µ","‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ"
];
const provinceNameMap = {
  "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢": "Chiang_Rai",
  "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà": "Chiang_Mai",
  "‡∏û‡∏∞‡πÄ‡∏¢‡∏≤": "Phayao",
  "‡∏•‡∏≥‡∏õ‡∏≤‡∏á": "Lampang",
  "‡∏•‡∏≥‡∏û‡∏π‡∏ô": "Lamphun",
  "‡πÅ‡∏û‡∏£‡πà": "Phrae",
  "‡∏ô‡πà‡∏≤‡∏ô": "Nan",
  "‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô": "Mae_Hong_Son",
  "‡∏≠‡∏∏‡∏ï‡∏£‡∏î‡∏¥‡∏ï‡∏ñ‡πå": "Uttaradit",
  "‡∏ï‡∏≤‡∏Å": "Tak",
  "‡∏™‡∏∏‡πÇ‡∏Ç‡∏ó‡∏±‡∏¢": "Sukhothai",
  "‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å": "Phitsanulok",
  "‡∏û‡∏¥‡∏à‡∏¥‡∏ï‡∏£": "Phichit",
  "‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£": "Kamphaeng_Phet",
  "‡∏ô‡∏Ñ‡∏£‡∏™‡∏ß‡∏£‡∏£‡∏Ñ‡πå": "Nakhon_Sawan",
  "‡∏≠‡∏∏‡∏ó‡∏±‡∏¢‡∏ò‡∏≤‡∏ô‡∏µ": "Uthai_Thani",
  "‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå": "Phetchabun",
  "‡πÄ‡∏•‡∏¢": "Loei",
  "‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢": "Nong_Khai",
  "‡∏´‡∏ô‡∏≠‡∏á‡∏ö‡∏±‡∏ß‡∏•‡∏≥‡∏†‡∏π": "Nong_Bua_Lamphu",
  "‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ": "Udon_Thani",
  "‡∏™‡∏Å‡∏•‡∏ô‡∏Ñ‡∏£": "Sakon_Nakhon",
  "‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°": "Nakhon_Phanom",
  "‡∏°‡∏∏‡∏Å‡∏î‡∏≤‡∏´‡∏≤‡∏£": "Mukdahan",
  "‡∏Å‡∏≤‡∏¨‡∏™‡∏¥‡∏ô‡∏ò‡∏∏‡πå": "Kalasin",
  "‡∏°‡∏´‡∏≤‡∏™‡∏≤‡∏£‡∏Ñ‡∏≤‡∏°": "Maha_Sarakham",
  "‡∏£‡πâ‡∏≠‡∏¢‡πÄ‡∏≠‡πá‡∏î": "Roi_Et",
  "‡∏¢‡πÇ‡∏™‡∏ò‡∏£": "Yasothon",
  "‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡πÄ‡∏à‡∏£‡∏¥‡∏ç": "Amnat_Charoen",
  "‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ": "Ubon_Ratchathani",
  "‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©": "Si_Sa_Ket",
  "‡∏™‡∏∏‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå": "Surin",
  "‡∏ö‡∏∏‡∏£‡∏µ‡∏£‡∏±‡∏°‡∏¢‡πå": "Buri_Ram",
  "‡∏ä‡∏±‡∏¢‡∏†‡∏π‡∏°‡∏¥": "Chaiyaphum",
  "‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤": "Nakhon_Ratchasima",
  "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô": "Khon_Kaen",
  "‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó": "Chai_Nat",
  "‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ": "Sing_Buri",
  "‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ": "Lop_Buri",
  "‡∏≠‡πà‡∏≤‡∏á‡∏ó‡∏≠‡∏á": "Ang_Thong",
  "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤": "Phra_Nakhon_Si_Ayutthaya",
  "‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ": "Saraburi",
  "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ": "Pathum_Thani",
  "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ": "Nonthaburi",
  "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£": "Bangkok",
  "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£": "Samut_Prakan",
  "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£": "Samut_Sakhon",
  "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°": "Samut_Songkhram",
  "‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°": "Nakhon_Pathom",
  "‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ": "Ratchaburi",
  "‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ": "Kanchanaburi",
  "‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ": "Phetchaburi",
  "‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå": "Prachuap_Khiri_Khan",
  "‡∏ä‡∏∏‡∏°‡∏û‡∏£": "Chumphon",
  "‡∏£‡∏∞‡∏ô‡∏≠‡∏á": "Ranong",
  "‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ": "Surat_Thani",
  "‡∏û‡∏±‡∏á‡∏á‡∏≤": "Phang_Nga",
  "‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï": "Phuket",
  "‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà": "Krabi",
  "‡∏ï‡∏£‡∏±‡∏á": "Trang",
  "‡∏û‡∏±‡∏ó‡∏•‡∏∏‡∏á": "Phatthalung",
  "‡∏™‡∏á‡∏Ç‡∏•‡∏≤": "Songkhla",
  "‡∏™‡∏ï‡∏π‡∏•": "Satun",
  "‡∏õ‡∏±‡∏ï‡∏ï‡∏≤‡∏ô‡∏µ": "Pattani",
  "‡∏¢‡∏∞‡∏•‡∏≤": "Yala",
  "‡∏ô‡∏£‡∏≤‡∏ò‡∏¥‡∏ß‡∏≤‡∏™": "Narathiwat",
  "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ": "Chonburi",
  "‡∏£‡∏∞‡∏¢‡∏≠‡∏á": "Rayong",
  "‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ": "Chanthaburi",
  "‡∏ï‡∏£‡∏≤‡∏î": "Trat",
  "‡∏â‡∏∞‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏ó‡∏£‡∏≤": "Chachoengsao",
  "‡∏õ‡∏£‡∏≤‡∏à‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ": "Prachinburi",
  "‡∏™‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß": "Sa_Kaeo",
  "‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å": "Nakhon_Nayok"
};


let correct = [];
let timeLeft = 300;
let timer;

/* =======================
   ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°
======================= */
function startGame() {
  correct = [];
  timeLeft = 300;

  document.getElementById("correct-list").innerHTML = "";
  document.getElementById("score").innerText = "‡∏ñ‡∏π‡∏Å: 0 / 77";
  document.getElementById("timer").innerText = "‡πÄ‡∏ß‡∏•‡∏≤: 300 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ";

  // ‡∏•‡πâ‡∏≤‡∏á‡∏™‡∏µ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
  document.querySelectorAll("svg path").forEach(p => {
    p.classList.remove("correct", "wrong");
  });

  // ‡∏ã‡πà‡∏≠‡∏ô label ‡∏ï‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°
  document.body.classList.remove("show-labels");

  clearInterval(timer);
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").innerText =
      "‡πÄ‡∏ß‡∏•‡∏≤: " + timeLeft + " ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ";

    if (timeLeft <= 0) {
      clearInterval(timer);
      alert("‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ñ‡∏π‡∏Å " + correct.length + " ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î");
      showAnswers();
    }
  }, 1000);
}

/* =======================
   ‡πÅ‡∏õ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡πá‡∏ô class
======================= */
function toClassName(name) {
  return name.replace(/\s+/g, '');
}

/* =======================
   ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ö‡∏ô‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
======================= */
function markCorrectByName(provinceName) {
  const className = toClassName(provinceName);
  const el = document.querySelector('.' + className);

  if (el) {
    el.classList.add('correct');
  } else {
    console.warn('‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö path ‡∏Ç‡∏≠‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î:', className);
  }
}

/* =======================
   ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏â‡∏•‡∏¢ (‡πÇ‡∏ä‡∏ß‡πå‡∏ä‡∏∑‡πà‡∏≠)
======================= */
function showAnswers() {
  document.body.classList.add("show-labels");
}

/* =======================
   Event ‡∏´‡∏•‡∏±‡∏Å
======================= */
document.addEventListener("DOMContentLoaded", () => {
  const input = document.getElementById("answer");

  // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
  startGame();

  input.addEventListener("keyup", function (e) {
    const inputText = this.value.trim();

    if (!provinces.includes(inputText)) return;
    if (correct.includes(inputText)) {
      this.value = "";
      return;
    }

    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö
    correct.push(inputText);

    // ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏™‡∏µ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà
    markCorrectByName(inputText);

    // ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô list
    const li = document.createElement("li");
    li.innerText = inputText;
    document.getElementById("correct-list").appendChild(li);

    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
    document.getElementById("score").innerText =
      "‡∏ñ‡∏π‡∏Å: " + correct.length + " / 77";

    this.value = "";

    // ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏£‡∏ö‡∏´‡∏°‡∏î
    if (correct.length === provinces.length) {
      clearInterval(timer);
      alert("‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏£‡∏ö 77 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß üéâ");
      showAnswers();
    }
  });
});
